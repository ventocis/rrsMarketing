

**Task 0.5 — Register design refs (srefs)**

* Put screenshots in `/public/design-refs/` (Vite copies `/public` to `dist/`).

* Add `// sref: <id>` comments in components that follow a reference.

* Do **not** import `/blueprint/design-refs.json` at runtime (docs only).

**Task 1 — Scaffold project**

* Vite React (JS), Tailwind (or plain CSS if Tailwind fails).

**Task 1.1 — Install UI deps**

`npm i flowbite-react flowbite`

**Task 2 — Create routes**  
 `/`, `/find/:state/:courseType`, `/courses/:slug`, `/support`, `/privacy`, `/terms`.

**Task 3 — Header**

* Logo → home. “Courses” anchor → scroll to element with `id="find-course"` in HeroFinder.

* Help Center, Login links per `/blueprint/site.yaml`.

**Task 4 — Tokens → Tailwind**

* Parse `/blueprint/design-tokens.json` → Tailwind theme/CSS variables.

* Tailwind `content` includes `./node_modules/flowbite*/**/*.{js,jsx}`.

Import once in `src/main.jsx`:

 `import 'flowbite/dist/flowbite.css';`

* 

**Task 4.2 — Build data (single source of truth)**

Task 4.2 — Build data (single source of truth)

\- Run /blueprint/scripts/build-data.mjs.

Input:

\- /blueprint/data/courses.csv

\- /blueprint/data/states.json (optional)

\- /blueprint/data/finder-map.json

Output:

\- /src/data/courses.json (normalized)

\- /src/data/states.json (derived from courses)

Validation (fail build on):

\- duplicate slug

\- non-numeric price\_usd / duration\_hours (when present)

\- provider\_type ∉ {Partner, InHouse}

\- missing affiliate\_link when Partner

**Task 4.3 — Formatting helpers**  
 Create `/src/lib/format.js` and export:

``export const usd = v => (v == null || v === '' ? '' : (+v % 1 ? `$${(+v).toFixed(2)}` : `$${+v}`));``  
``export const hours = v => (v ? `${+v} ${+v === 1 ? 'hour' : 'hours'}` : '');``  
`export const truncate = (s, n=140) => (s && s.length>n ? s.slice(0, n-1) + '…' : s || '');`

**Task 4.5 — SEO & indexing**

* `Ensure /public/robots.txt exists (lists sitemap URL).`

* `Confirm /public/sitemap.xml was generated by the data build.`

* `(Optional) set <link rel="sitemap" type="application/xml" href="/sitemap.xml" /> in <head>.`

**Task 5 — Build Home from blueprint**

* Use `/blueprint/pages.yaml` \+ `/blueprint/copy/home.json`.

**Task 5a — HeroFinder (sref: hero-finder.v1)**

* Create `<HeroFinder>` composing Hero \+ Finder **inside** the hero.

* Copy from `home.hero` (headline/subhead/CTA) and `home.finder` (labels/options).

* Finder is a Flowbite `Card` with `Label`, `Select`, `TextInput`, `Button`.

* Max width \~560px, radius from tokens, subtle shadow. Responsive: stack on mobile.

**Task 5b — Enforce Course UI spec**

* Load `/blueprint/ui/course-ui.json` (if present). Otherwise follow:

  * **Facts** \= quick stats chips (state, duration, price, provider, certificate summary).

  * **Details** \= definition list (eligibility, identity\_verification, reporting\_method, certificate\_delivery, retake\_policy).

  * **Features** only when `show_modules=true`.

  * Apply `usd()`, `hours()`, `truncate()` where relevant.

  * Show partner pill & provider note only when Partner.

**Task 6 — Finder logic (use built JSON)**

* Load `/src/data/courses.json` and `/src/data/states.json`.

* Load `/blueprint/data/finder-map.json` to map `reason → course_type[]`.

* On submit (state, reason, optional course, optional language):

  * If `course` provided → use directly as courseType.

  * Else courseTypes \= map\[reason\].

  * Filter courses by `state` \+ `course_type ∈ courseTypes` (+ `language` if set).

  * If **1 match** → navigate to `/courses/{slug}`.

  * If **\>1** → navigate to `/find/{state}/{courseTypeSlug}?lang={language|any}`.

**Task 7 — Results route**

* Create `/find/:state/:courseType` page. Read `lang` query param.

* Filter client-side using `courses.json`.

* Render copy from `/blueprint/copy/results.json`.

* **Grid cards (sref: results-grid.v1)** using Flowbite `Card`, `Badge`, `Button`:

  * Title \= `course_name`, Sub \= `blurb`, Meta chips \= `duration_hours` (hours), `language`, `price_usd` (usd).

  * Partner pill when `provider_type === 'Partner'`.

  * **Buttons:**

    * **Learn more** → `/courses/{slug}`

    * **Sign up** → Partner: `affiliate_link` (`target="_blank" rel="noopener sponsored"`), In-house: `/courses/{slug}#enroll`.

**Task 8 — Course pages**  
 For **every** row in `courses.json`, generate `/courses/{slug}` and render:

* **Hero:** headline, subhead, CTA label. If Partner → partner pill (`partner_badge`) \+ provider note from `/blueprint/copy/course-template.json`.

* **Facts:** state, duration (`hours()`), price (`usd()`), provider, short certificate summary (`truncate()`).

* **Details:** eligibility, identity, reporting, certificate, retake.

* **Features:** show only when `show_modules=true` (pipe-split if you later add a `features` column).

* **CTA:** Partner → `affiliate_link` (new tab, `rel="noopener sponsored"`), In-house → internal.

**Task 8.1 — Markdown overrides (optional)**

* If `/blueprint/course-copy/{slug}.md` exists, render it above **Details**.

**Task 9 — Static pages**

* Build Support/Privacy/Terms from `/blueprint/legal/*.md`.

**Task 10 — QA**

* Finder: (1) 1 result → direct, (2) \>1 → results grid, (3) 0 → empty state.

* Results not in nav; partner CTAs use `rel="noopener sponsored"`.

* All affiliate links resolve (no dead links).

* No external runtime fetches; Flowbite CSS loaded once; no console errors.

